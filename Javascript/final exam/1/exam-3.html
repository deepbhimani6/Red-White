<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>task - 3</title>
</head>

<body>
    <table border="1" id="data"></table>
</body>

</html>

<script type="text/javascript">

    let studentdata = [{
        grid: 1234,
        name: "kaushik",
        email: "kaushik@gmail.com",
        phone: 9876734,
        course: "php",
        fees: 20000,
        status: 'active'
    },
    {
        grid: 1123,
        name: "ajay",
        email: "ajay@gmail.com",
        phone: 9873412,
        course: "react js",
        fees: 40000,
        status: 'active'
    },
    {
        grid: 2222,
        name: "ashish",
        email: "ashish@gmail.com",
        phone: 987451,
        course: "node js",
        fees: 40000,
        status: 'dective'
    },
    {
        grid: 7896,
        name: "keyur",
        email: "keyur@gmail.com",
        phone: 763512,
        course: "javascript",
        fees: 15000,
        status: 'active'
    },
    {
        grid: 5678,
        name: "ketul",
        email: "ketul@gmail.com",
        phone: 763412,
        course: "photoshp",
        fees: 10000,
        status: 'active'
    },
    {
        grid: 3456,
        name: "mitesh",
        email: "mitesh@gmail.com",
        phone: 763412,
        course: "photoshp",
        fees: 10000,
        status: 'deactive'
    },
    {
        grid: 5321,
        name: "mihir",
        email: "mihir@gmail.com",
        phone: 763412,
        course: "photoshp",
        fees: 10000,
        status: 'active'
    },
    {
        grid: 5678,
        name: "ketul",
        email: "ketul@gmail.com",
        phone: 763412,
        course: "photoshp",
        fees: 10000,
        status: 'active'
    },
    {
        grid: 2222,
        name: "ashish",
        email: "ashish@gmail.com",
        phone: 987451,
        course: "node js",
        fees: 40000,
        status: 'dective'
    },
    {
        grid: 7896,
        name: "keyur",
        email: "keyur@gmail.com",
        phone: 763512,
        course: "javascript",
        fees: 15000,
        status: 'active'
    },
    {
        grid: 5678,
        name: "ketul",
        email: "ketul@gmail.com",
        phone: 763412,
        course: "photoshp",
        fees: 10000,
        status: 'active'
    },
    {
        grid: 1123,
        name: "ajay",
        email: "ajay@gmail.com",
        phone: 9873412,
        course: "react js",
        fees: 40000,
        status: 'active'
    },
    {
        grid: 2222,
        name: "ashish",
        email: "ashish@gmail.com",
        phone: 987451,
        course: "node js",
        fees: 40000,
        status: 'dective'
    }];

    const allData = studentdata;
    const uniqGrID = []
    const uniqStudent = []
    for (let index = 0; index < allData.length; index++) {
        if (!uniqGrID.includes(allData[index].grid)) {
            uniqGrID.push(allData[index].grid)
            if (allData[index].status === 'active') {
                uniqStudent.push(allData[index])
            }
        }
    }
    console.log(uniqStudent);

    data();
    function data() {
        let tbl = "";
        tbl += `<tr>
                    <td>Name</td>
                    <td>Email</td>
                    <td>Phone</td>
                    <td>GRID</td>
                    <td>Course</td>
                    <td>Fees</td>
                    <td>Status</td>
                </tr>`

        const uniqGrID = []
        let filteredStudent = studentdata.reduce((acc, element) => {
            if (!uniqGrID.includes(element.grid)) {
                acc.push(element)
                uniqGrID.push(element.grid)

            }
            return acc
        }, [])

        for (let i in filteredStudent) {
            if (studentdata[i].status == "active") {
                tbl += `<tr>
                            <td>${studentdata[i].name}</td>
                            <td>${studentdata[i].email}</td>
                            <td>${studentdata[i].phone}</td>
                            <td>${studentdata[i].grid}</td>
                            <td>${studentdata[i].course}</td>
                            <td>${studentdata[i].fees}</td>
                            <td>${studentdata[i].status}</td>
                        </tr>`
            }
        }
        document.getElementById('data').innerHTML = tbl;
    }

</script>